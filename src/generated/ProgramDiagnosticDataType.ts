/**
 generated by wsopcua data type generator
 do not modify, changes will be overwritten
*/

import * as ec from '../basic-types';
import {Argument} from './Argument';
import {decodeArgument} from './Argument';
import {StatusResult} from './StatusResult';
import {DataStream} from '../basic-types/DataStream';

export type IProgramDiagnosticDataType = Partial<ProgramDiagnosticDataType>;

/**

 * {@link https://reference.opcfoundation.org/nodesets/4/16251}
*/

export class ProgramDiagnosticDataType {
  createSessionId: ec.NodeId;
  createClientName: string | undefined;
  invocationCreationTime: Date;
  lastTransitionTime: Date;
  lastMethodCall: string | undefined;
  lastMethodSessionId: ec.NodeId;
  lastMethodInputArguments: (Argument)[];
  lastMethodOutputArguments: (Argument)[];
  lastMethodCallTime: Date;
  lastMethodReturnStatus: StatusResult;

 constructor( options?: IProgramDiagnosticDataType | undefined) {
  options = options || {};
  this.createSessionId = (options.createSessionId != null) ? options.createSessionId : ec.NodeId.NullNodeId;
  this.createClientName = options.createClientName;
  this.invocationCreationTime = (options.invocationCreationTime != null) ? options.invocationCreationTime : new Date();
  this.lastTransitionTime = (options.lastTransitionTime != null) ? options.lastTransitionTime : new Date();
  this.lastMethodCall = options.lastMethodCall;
  this.lastMethodSessionId = (options.lastMethodSessionId != null) ? options.lastMethodSessionId : ec.NodeId.NullNodeId;
  this.lastMethodInputArguments = (options.lastMethodInputArguments != null) ? options.lastMethodInputArguments : [];
  this.lastMethodOutputArguments = (options.lastMethodOutputArguments != null) ? options.lastMethodOutputArguments : [];
  this.lastMethodCallTime = (options.lastMethodCallTime != null) ? options.lastMethodCallTime : new Date();
  this.lastMethodReturnStatus = (options.lastMethodReturnStatus != null) ? options.lastMethodReturnStatus : new StatusResult();

 }


 encode( out: DataStream) {
  ec.encodeNodeId(this.createSessionId, out);
  ec.encodeString(this.createClientName, out);
  ec.encodeDateTime(this.invocationCreationTime, out);
  ec.encodeDateTime(this.lastTransitionTime, out);
  ec.encodeString(this.lastMethodCall, out);
  ec.encodeNodeId(this.lastMethodSessionId, out);
  ec.encodeArray(this.lastMethodInputArguments, out);
  ec.encodeArray(this.lastMethodOutputArguments, out);
  ec.encodeDateTime(this.lastMethodCallTime, out);
  this.lastMethodReturnStatus.encode(out);

 }


 decode( inp: DataStream) {
  this.createSessionId = ec.decodeNodeId(inp);
  this.createClientName = ec.decodeString(inp);
  this.invocationCreationTime = ec.decodeDateTime(inp);
  this.lastTransitionTime = ec.decodeDateTime(inp);
  this.lastMethodCall = ec.decodeString(inp);
  this.lastMethodSessionId = ec.decodeNodeId(inp);
  this.lastMethodInputArguments = ec.decodeArray(inp, decodeArgument) ?? [];
  this.lastMethodOutputArguments = ec.decodeArray(inp, decodeArgument) ?? [];
  this.lastMethodCallTime = ec.decodeDateTime(inp);
  this.lastMethodReturnStatus.decode(inp);

 }


 toJSON() {
  const out: any = {};
  out.CreateSessionId = ec.jsonEncodeNodeId(this.createSessionId);
  out.CreateClientName = this.createClientName;
  out.InvocationCreationTime = ec.jsonEncodeDateTime(this.invocationCreationTime);
  out.LastTransitionTime = ec.jsonEncodeDateTime(this.lastTransitionTime);
  out.LastMethodCall = this.lastMethodCall;
  out.LastMethodSessionId = ec.jsonEncodeNodeId(this.lastMethodSessionId);
  out.LastMethodInputArguments = this.lastMethodInputArguments;
  out.LastMethodOutputArguments = this.lastMethodOutputArguments;
  out.LastMethodCallTime = ec.jsonEncodeDateTime(this.lastMethodCallTime);
  out.LastMethodReturnStatus = this.lastMethodReturnStatus;
 return out;
 }


 fromJSON( inp: any) {
if (!inp) { return; }
  this.createSessionId = ec.jsonDecodeNodeId(inp.CreateSessionId);
  this.createClientName = inp.CreateClientName;
  this.invocationCreationTime = ec.jsonDecodeDateTime(inp.InvocationCreationTime);
  this.lastTransitionTime = ec.jsonDecodeDateTime(inp.LastTransitionTime);
  this.lastMethodCall = inp.LastMethodCall;
  this.lastMethodSessionId = ec.jsonDecodeNodeId(inp.LastMethodSessionId);
  this.lastMethodInputArguments = ec.jsonDecodeStructArray( inp.LastMethodInputArguments,Argument);
  this.lastMethodOutputArguments = ec.jsonDecodeStructArray( inp.LastMethodOutputArguments,Argument);
  this.lastMethodCallTime = ec.jsonDecodeDateTime(inp.LastMethodCallTime);
  this.lastMethodReturnStatus.fromJSON(inp.LastMethodReturnStatus);

 }


 clone( target?: ProgramDiagnosticDataType): ProgramDiagnosticDataType {
  if (!target) {
   target = new ProgramDiagnosticDataType();
  }
  target.createSessionId = this.createSessionId;
  target.createClientName = this.createClientName;
  target.invocationCreationTime = this.invocationCreationTime;
  target.lastTransitionTime = this.lastTransitionTime;
  target.lastMethodCall = this.lastMethodCall;
  target.lastMethodSessionId = this.lastMethodSessionId;
  if (this.lastMethodInputArguments) { target.lastMethodInputArguments = ec.cloneComplexArray(this.lastMethodInputArguments); }
  if (this.lastMethodOutputArguments) { target.lastMethodOutputArguments = ec.cloneComplexArray(this.lastMethodOutputArguments); }
  target.lastMethodCallTime = this.lastMethodCallTime;
  if (this.lastMethodReturnStatus) { target.lastMethodReturnStatus = this.lastMethodReturnStatus.clone(); }
  return target;
 }


}
export function decodeProgramDiagnosticDataType( inp: DataStream): ProgramDiagnosticDataType {
  const obj = new ProgramDiagnosticDataType();
   obj.decode(inp);
   return obj;

 }



import {register_class_definition} from '../factory/factories_factories';
import { ExpandedNodeId } from '../nodeid/expanded_nodeid';
register_class_definition('ProgramDiagnosticDataType', ProgramDiagnosticDataType, new ExpandedNodeId(2 /*numeric id*/, 896, 0));
